<div class="w-screen h-screen flex">
    <div class="w-[400px] h-full bg-gray-200 text-black" *ngIf="showSide">
      <div class="h-[80px] bg-cyan-700 flex justify-start items-center">
        <div class="px-[20px] text-white">
          <h3 class="font-bold text-xl">DASHBOARD</h3>
        </div>
      </div>
      <div class="h-[calc(100vh-50px)] bg-cyan-700 py-[20px] text-white">
        <div class="flex flex-col justify-between h-full px-[20px] space-y-[10px]">
          <div class="flex flex-col justify-between space-y-[10px]">
            <hr class="my-4 border-dashed border-gray-300">
            <a routerLink="/projects" class="inline-flex relative items-center py-[10px] px-[10px] w-full text-sm font-medium rounded-md border-gray-200 hover:bg-gray-200 hover:text-gray-800 transition duration-400 ease-in-out">
              <img class="w-10 h-10 border-gray-50" src="../../assets/project.png" alt="">
              <h3 class="font-bold text-xl">Wybierz projekt</h3>
            </a>
            <hr class="my-4 border-dashed border-gray-300">
            <a *ngIf="showBacklogLink" routerLink="/backlog" class="inline-flex relative items-center py-[10px] px-[10px] w-full text-sm font-medium rounded-md border-gray-200 hover:bg-gray-200 hover:text-gray-800 transition duration-400 ease-in-out">
              <img class="w-10 h-10 border-gray-50" src="../../assets/backlog.png" alt="">
              BACKLOG
            </a>
            <a routerLink="/timeline" class="inline-flex relative items-center py-[10px] px-[10px] w-full text-sm font-medium rounded-md border-gray-200 hover:bg-gray-300 hover:text-gray-800 transition duration-400 ease-in-out">
              <img class="w-10 h-10 border-gray-50" src="../../assets/calendar.png" alt="">
              KALENDARZ
            </a>
            <a routerLink="/table" class="inline-flex relative items-center py-[10px] px-[10px] w-full text-sm font-medium rounded-md border-gray-200 hover:bg-gray-300 hover:text-gray-800 transition duration-400 ease-in-out">
              <img class="w-10 h-10 border-gray-50" src="../../assets/table.png" alt="">
              TABLICA
            </a>
            <a routerLink="/reports" class="inline-flex relative items-center py-[10px] px-[10px] w-full text-sm font-medium rounded-md rounded-b-lg hover:bg-gray-300 hover:text-gray-800 transition duration-400 ease-in-out">
              <img class="w-10 h-10 border-gray-50" src="../../assets/checklist.png" alt="">
              ZGŁOSZENIA
            </a>
            <a *ngIf="showListLink" routerLink="/list" class="inline-flex relative items-center py-[10px] px-[10px] w-full text-sm font-medium rounded-md rounded-b-lg hover:bg-gray-300 hover:text-gray-800 transition duration-400 ease-in-out">
              <img class="w-10 h-10 border-gray-50" src="../../assets/list.png" alt="">
              LISTA
            </a>
            <hr class="my-4 border-dashed border-gray-300">
            <a *ngIf="showUsersLink" routerLink="/users" class="inline-flex relative items-center py-[0px] px-[10px] w-full text-sm font-medium rounded-md border-gray-200 hover:bg-gray-300 hover:text-gray-800 transition duration-400 ease-in-out">
              <img class="w-10 h-10 border-gray-50" src="../../assets/users.png" alt="">
              UŻYTKOWNICY
            </a>
            <a *ngIf="showSettingsLink" routerLink="/projects" class="inline-flex relative items-center py-[0px] px-[10px] w-full text-sm font-medium rounded-md border-gray-200 hover:bg-gray-300 hover:text-gray-800 transition duration-400 ease-in-out">
              <img class="w-10 h-10 border-gray-50" src="../../assets/details.png" alt="">
              USTAWIENIA PROJEKTU
            </a>
          </div>
        </div>
      </div>
    </div>

  <div class="w-full h-full bg-gray-400">
    <div class="h-[60px] bg-gray-100 flex items-center shadow-sm px-[20px] w-full py-[10px] z-10 border-b">
      <div class="cursor-pointer w-[30px] flex items-center justify-center" (click)="toggleSideBar()">
        <img class="w-20 h-10 border-gray-50" src="assets/menu.png" alt="">
      </div>
      <div class="px-[20px]">
        <a routerLink="/homePageMaster" class="inline-flex relative items-center py-[0px] px-[10px] w-full text-sm font-medium rounded-md border-gray-200 transition duration-400 ease-in-out">
          <h3 class="font-bold text-xl">VaultProject</h3>
        </a>
      </div>
      <img class="w-10 h-10 border-gray-50" src="assets/vault.png" alt="">
      <div class="w-[calc(100%-30px)] flex">
        <div class="w-[calc(100%-200px)] flex justify-center">
          <form (ngSubmit)="search()"  name="search">
            <label for="search" class="sr-only">Szukaj</label>
            <div class="relative">
              <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
                <img class="w-10 h-10 border-gray-50 mr-2" src="assets/lupa.png" alt="">
              </div>
              <input [(ngModel)]="searchQuery" name="searchQuery" type="text" id="search" name="search" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-16 p-2.5 dark:bg-cyan-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Szukaj..." required>
              <button type="submit" class="absolute inset-y-0 right-0 flex items-center pr-3">
                <svg aria-hidden="true" class="w-4 h-4 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"></svg>
              </button>
            </div>
          </form>
        </div>
        <div class="w-[50px]">
          <div class="flex items-center justify-start space-x-2" (click)="toggleDrop2()">
            <img class="w-10 h-10 rounded-full border-2 border-gray-50" src="assets/bell.png" alt="">
          </div>
          <div *ngIf="showDropDown2" class="absolute right-[100px] z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-2">
            <div class="py-1 text-left" role="none">
              <a href="#" class="text-gray-700 block px-4 py-2 text-sm" role="menuitem" tabindex="-1" id="menu-item-0">Pośpiesz się z zadaniem 5 numer 2</a>
              <form method="POST" action="#" role="none">
                <button type="submit" class="text-gray-700 block w-full px-4 py-2 text-left text-sm" role="menuitem" tabindex="-1" id="menu-item-3">Dokończ zadanie 6 ze scrum 3</button>
              </form>
            </div>
          </div>
        </div>
        <div class="w-[200px]">
          <div class="flex items-center justify-start space-x-4" (click)="toggleDrop()">
            <img class="w-10 h-10 rounded-full border-2 border-gray-50" src="assets/profil.png" alt="">
            <div class="font-semibold dark:text-black text-left">
                <div>{{ userData?.username }}</div>

            </div>
          </div>
          <div *ngIf="showDropDown" class="absolute right-[10px] z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
            <div class="py-1 text-left" role="none">
              <a routerLink="/profile" class="text-gray-700 block px-4 py-2 text-sm" role="menuitem" tabindex="-1" id="menu-item-0">Ustawienia konta</a>
              <a routerLink="/login" class="text-gray-700 block px-4 py-2 text-sm" role="menuitem" tabindex="-1" id="menu-item-0">Wyloguj się</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="h-[calc(100vh-50px)] bg-gray-50 p-[20px]">
      <div class="border border-gray-300 rounded-md p-[20px] h-full">
        <div class="px-[20px]">
          <h3 class="font-bold text-left text-xl">Projekty</h3>
          <div class="my-4"></div>
          <form class="flex items-center w-[500px]">
            <label for="voice-search" class="sr-only">Szukaj</label>
            <div class="relative w-full">
              <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
                <img class="w-10 h-10 border-gray-50 mr-2" src="assets/lupa.png" alt="">
                <svg aria-hidden="true" class="w-5 h-auto text-gray-500 dark:text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"></svg>
              </div>
              <input type="text" id="voice-search" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-16 p-2.5 dark:bg-cyan-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Szukaj..." required>
              <a routerLink="/" class="flex absolute inset-y-0 right-0 items-center pr-3">
                <svg aria-hidden="true" class="w-4 h-4 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"></svg>
              </a>
            </div>
          </form>
          <div class="my-20"></div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
          <div *ngFor="let project of sortedProjects" class="p-4 flex flex-col relative">
            <a [routerLink]="homeLink" (click)="selectProject(project.id)">
              <h3 class="font-bold text-xl p-2 shadow-md" [style.backgroundColor]="generateColor(project.id)">{{ project.name }}</h3>
              <p class="bg-white shadow-md">Klucz: {{ project.keyProject }}</p>
              <p class="bg-white shadow-md">Typ: {{ project.type }}</p>
              <p class="bg-white shadow-md">Lider: {{ project.leader.username }}</p>
            </a>
            <div class="mt-auto flex justify-end absolute top-0 right-0">
              <button *ngIf="isAdmin" (click)="toggleOptions(project.id)" class="px-4 py-2 bg-transparent text-gray-700 rounded-md">   <img class="w-6 h-6" src="../../assets/more.png" alt="Więcej opcji"></button>
              <div *ngIf="showOptions[project.id]" class="absolute z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
                <div class="py-1" role="none">
                  <a (click)="deleteProject(project.id)" class="text-gray-700 block px-4 py-2 text-sm cursor-pointer" role="menuitem" tabindex="-1" id="menu-item-0">Usuń projekt</a>
                  <a (click)="openEditProjectDialog(project)" class="text-gray-700 block px-4 py-2 text-sm cursor-pointer" role="menuitem" tabindex="-1" id="menu-item-1">Edytuj projekt</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <hr class="my-4 border-dashed border-gray-300">
        <div class="flex justify-end mt-8">
          <div v-if="isAdmin"
          class="absolute left-1/2 transform -translate-x-1/2 bg-gray-200 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 flex-inline flex-col items-center justify-center">
          <h3 class="font-bold text-xl mb-4">Dodaj nowy projekt</h3>
          <input v-model="newProjectName" type="text" class="border border-gray-400 rounded-md px-3 py-2 w-64 mb-4"
            placeholder="Nazwa projektu">
          <input v-model="newProjectKey" type="text" class="border border-gray-400 rounded-md px-3 py-2 w-64 mb-4"
            placeholder="Klucz projektu">
          <input v-model="newProjectType" type="text" class="border border-gray-400 rounded-md px-3 py-2 w-64 mb-4"
            placeholder="Typ projektu">
          <button 
            class="bg-amber-300 hover:bg-amber-500 text-white font-semibold rounded-md px-4 py-2">Dodaj
            projekt</button>
       
        </div>
      </div>
    </div>
  </div>
</div>